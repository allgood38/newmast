<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NEWMAST: WindSense Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">NEWMAST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">WindSense Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="WindSense" -->
<p>Class to control the Wind Sensor in an encapsulated way.  
 <a href="classWindSense.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">WindSense.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for WindSense:</div>
<div class="dyncontent">
<div class="center"><img src="classWindSense__coll__graph.png" border="0" usemap="#WindSense_coll__map" alt="Collaboration graph"/></div>
<map name="WindSense_coll__map" id="WindSense_coll__map">
<area shape="rect" id="node2" href="classHardwareSerial.html" title="HardwareSerial" alt="" coords="5,165,115,195"/><area shape="rect" id="node4" href="classStream.html" title="Stream" alt="" coords="28,85,92,115"/><area shape="rect" id="node6" href="classPrint.html" title="Print" alt="" coords="36,5,84,35"/><area shape="rect" id="node8" href="structWindSense_1_1GPGLL.html" title="GPS Data Struct Contains the GPS data from the airmar." alt="" coords="139,165,277,195"/><area shape="rect" id="node10" href="structWindSense_1_1GPVTG.html" title="WindSense::GPVTG" alt="" coords="301,165,443,195"/><area shape="rect" id="node12" href="structWindSense_1_1WIMWV.html" title="WindSense::WIMWV" alt="" coords="467,165,613,195"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWindSense_1_1GPGLL.html">GPGLL</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">GPS Data Struct Contains the GPS data from the airmar.  <a href="structWindSense_1_1GPGLL.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWindSense_1_1GPVTG.html">GPVTG</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWindSense_1_1WIMWV.html">WIMWV</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#af664d8ea5db527206e64301455277929">WindSense</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a513ba1ac1fc5369499315e37d63f053e">WindSense</a> (<a class="el" href="classHardwareSerial.html">HardwareSerial</a> *inSerial)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a857d644e8150797a2ffc626e8e39e4a2">grabChar</a> (char input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a character to the partial sentence string.  <a href="#a857d644e8150797a2ffc626e8e39e4a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#abc6881989101175595efce5f59587ac9">validateNMEA</a> (char *input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the checksum matches at the end.  <a href="#abc6881989101175595efce5f59587ac9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#ae588f066429fc69c55347b460ca8de77">validateInternalNMEA</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a1f5f29fd81c464d38de6703f48f1ae6f">splitNMEA</a> (char *input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of strings (char arrays) containing parsed values.  <a href="#a1f5f29fd81c464d38de6703f48f1ae6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#ac8702e5aace56e4c8818088551d309dd">splitInternalNMEA</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a3bda1198330c913cadd51eb5bf9652a8">parseInternalNMEA</a> (char *input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all of the parsing functions parseToStruct.cpp.  <a href="#a3bda1198330c913cadd51eb5bf9652a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a1d7be6f9e3ed9964a1661df7bf44df9d">updateGPS_GPGLL</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the GPS Data Struct by parsing.  <a href="#a1d7be6f9e3ed9964a1661df7bf44df9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#aef8efeb056b1f79b42fed46c00ed991a">updateWIND_WIMWV</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the Wind Data Struct by Parsing.  <a href="#aef8efeb056b1f79b42fed46c00ed991a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#aa7fb078bc8798b983103688d83c69f1d">updateSPEED_GPVTG</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the Speet Data Struct by Parsing.  <a href="#aa7fb078bc8798b983103688d83c69f1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#abdf66a848c8a169d145443073727c2f6">resetInternalNMEA</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#af664d8ea5db527206e64301455277929">WindSense</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a546fcdd0b5f19ca54ebd7e2778f6138b">~WindSense</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#afaf1fc6614e5fb15ea0b968e59d75f54">getGPSLatitude</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the boats current co-ordinates.  <a href="#afaf1fc6614e5fb15ea0b968e59d75f54"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a5e89d69e24b5c7b1dbc8b8b05537cd99">getGPSLongitude</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a10c495edf93c18e51bed677253558001">updateGPSData</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the internal variables of this class with data.  <a href="#a10c495edf93c18e51bed677253558001"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a3ee18bcd1311bbd9f715b836469f81a6">dumpToScreen</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps WindSesnor Variables to the console for debugging purposes.  <a href="#a3ee18bcd1311bbd9f715b836469f81a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#aa1463602e80d3d8a7395ab31773faefc">validateSentence</a> (char *NMEA)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates the checksum on the sentence.  <a href="#aa1463602e80d3d8a7395ab31773faefc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a857d644e8150797a2ffc626e8e39e4a2">grabChar</a> (char input)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#abc6881989101175595efce5f59587ac9">validateNMEA</a> (char *input)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a170d564ca219d3f8fda2364c1b4236ee">parseNMEA</a> (char *input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an array of strings (char arrays) containing parsed values.  <a href="#a170d564ca219d3f8fda2364c1b4236ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a3ad16324837db2e9c4444103c03098a4">parseInternalNMEA</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#aab575a01bf5f1e0bb2b70d9f49bc87a7">debug</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug function, prints all internals to the screen.  <a href="#aab575a01bf5f1e0bb2b70d9f49bc87a7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be">partCount</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">index for partSentence  <a href="#a061e7abee51944d5a264dda2a889c3be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414">partSentence</a> [100]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">buffer for incoming NMEA for grabChar function  <a href="#a55e22939b33a6cee7d07144e1cc68414"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d">stringArray</a> [40][15]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of strings for splitNMEA.  <a href="#afd05c14e6eae93432dbc0bc66737563d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be">stringArrayIdx</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">index for the array of strings  <a href="#ad6ffa36b5ca5732a6ac9b0247dd193be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structWindSense_1_1GPGLL.html">GPGLL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">GPS_GPGLL</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structWindSense_1_1WIMWV.html">WIMWV</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#aa4e41042ca6323048f5f00d30d2f15d3">WIND_WIMWV</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structWindSense_1_1GPVTG.html">GPVTG</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#a545ca2abb5640fbe6dd5647b49211b78">SPEED_GPVTG</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classHardwareSerial.html">HardwareSerial</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWindSense.html#acd874ebeaa66979b31c8fc8cb6b363f8">senSerial</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Class to control the Wind Sensor in an encapsulated way. </p>
<dl class="user"><dt><b></b></dt><dd>Once this class is complete, a unit test function will be written to make sure that it always has valid input and outputs. In an effort to eliminate the use of global variables, the only way to get output out of this should be through functions, all variables should remain private.</dd></dl>
<dl class="user"><dt><b>2011-10-02 Sun 05:09 pm</b></dt><dd>Will try to use <a class="el" href="classTinyGPS.html">TinyGPS</a> to get values from the sensor. The library actually suggests the use of a software serial library, but that doesn't have a buffer and forces the Arduino to sit and listen for the data. </dd></dl>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00012">12</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af664d8ea5db527206e64301455277929"></a><!-- doxytag: member="WindSense::WindSense" ref="af664d8ea5db527206e64301455277929" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WindSense::WindSense </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>&lt; index for partSentence</p>
<p>&lt; index for the array of strings </p>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00003">3</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                     {
    <a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a> = 0;        
    <a class="code" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be" title="index for the array of strings">stringArrayIdx</a> = 0;   
}
</pre></div>
</div>
</div>
<a class="anchor" id="a513ba1ac1fc5369499315e37d63f053e"></a><!-- doxytag: member="WindSense::WindSense" ref="a513ba1ac1fc5369499315e37d63f053e" args="(HardwareSerial *inSerial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WindSense::WindSense </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classHardwareSerial.html">HardwareSerial</a> *&#160;</td>
          <td class="paramname"><em>inSerial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00008">8</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
    <span class="comment">// Here, we initialise the wind sensor</span>
    <a class="code" href="classWindSense.html#acd874ebeaa66979b31c8fc8cb6b363f8">senSerial</a> = inSerial;
    <a class="code" href="classWindSense.html#acd874ebeaa66979b31c8fc8cb6b363f8">senSerial</a>-&gt;<a class="code" href="classHardwareSerial.html#acea43a2b9c704ddf0a7c5f8b7859816c">begin</a>(4800);
    <a class="code" href="wiring_8c.html#a6bc5f943544a887f8b23cadfb26a5e30">delay</a>(100);
    <a class="code" href="classWindSense.html#acd874ebeaa66979b31c8fc8cb6b363f8">senSerial</a>-&gt;<a class="code" href="classPrint.html#abeb8bc6c2d103469679b88c1a966a21f">println</a>(<span class="stringliteral">&quot;$PAMTC,EN,RMC,0,10&quot;</span>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classWindSense_a513ba1ac1fc5369499315e37d63f053e_cgraph.png" border="0" usemap="#classWindSense_a513ba1ac1fc5369499315e37d63f053e_cgraph" alt=""/></div>
<map name="classWindSense_a513ba1ac1fc5369499315e37d63f053e_cgraph" id="classWindSense_a513ba1ac1fc5369499315e37d63f053e_cgraph">
<area shape="rect" id="node3" href="classHardwareSerial.html#acea43a2b9c704ddf0a7c5f8b7859816c" title="HardwareSerial::begin" alt="" coords="220,5,369,35"/><area shape="rect" id="node5" href="wiring_8c.html#a6bc5f943544a887f8b23cadfb26a5e30" title="delay" alt="" coords="268,59,321,88"/><area shape="rect" id="node9" href="classPrint.html#abeb8bc6c2d103469679b88c1a966a21f" title="Print::println" alt="" coords="249,112,340,141"/><area shape="rect" id="node7" href="wiring_8c.html#a8b24cbb7c3486e1bfa05c86db83ecb01" title="micros" alt="" coords="435,59,496,88"/><area shape="rect" id="node11" href="classPrint.html#a6c1f2f9a1988fe2d4ed593b3ac0185c7" title="Print::print" alt="" coords="560,137,643,167"/><area shape="rect" id="node17" href="classPrint.html#a525b37c566658ff8113a067f6e8d5bf1" title="Print::println" alt="" coords="420,163,511,192"/><area shape="rect" id="node13" href="classString.html#a61d8c8330af43b5f6ccbf11a92457b44" title="String::length" alt="" coords="691,111,789,140"/><area shape="rect" id="node15" href="classPrint.html#ad9393033793cfc17f3e37202ba244892" title="Print::write" alt="" coords="697,164,783,193"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af664d8ea5db527206e64301455277929"></a><!-- doxytag: member="WindSense::WindSense" ref="af664d8ea5db527206e64301455277929" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WindSense::WindSense </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a546fcdd0b5f19ca54ebd7e2778f6138b"></a><!-- doxytag: member="WindSense::~WindSense" ref="a546fcdd0b5f19ca54ebd7e2778f6138b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WindSense::~WindSense </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html#l00006">6</a> of file <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/Test_Files/libraries/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                      {
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aab575a01bf5f1e0bb2b70d9f49bc87a7"></a><!-- doxytag: member="WindSense::debug" ref="aab575a01bf5f1e0bb2b70d9f49bc87a7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WindSense::debug </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Debug function, prints all internals to the screen. </p>
<p>Needs the Serial.print functions... </p>

<p>Definition at line <a class="el" href="TransitioninOut_2WindSense_2WindSense_8cpp_source.html#l00122">122</a> of file <a class="el" href="TransitioninOut_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                      {
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3ee18bcd1311bbd9f715b836469f81a6"></a><!-- doxytag: member="WindSense::dumpToScreen" ref="a3ee18bcd1311bbd9f715b836469f81a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::dumpToScreen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dumps WindSesnor Variables to the console for debugging purposes. </p>

<p>Definition at line <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html#l00019">19</a> of file <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/Test_Files/libraries/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                            {
}
</pre></div>
</div>
</div>
<a class="anchor" id="afaf1fc6614e5fb15ea0b968e59d75f54"></a><!-- doxytag: member="WindSense::getGPSLatitude" ref="afaf1fc6614e5fb15ea0b968e59d75f54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double WindSense::getGPSLatitude </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check the boats current co-ordinates. </p>
<p>Simply takes the value which has been updated during the class. Also, it might be worth getting it to keep track of when it was last updated so that it can update the memory values if necessary.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>double The current co-ordinates </dd></dl>

<p>Definition at line <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html#l00009">9</a> of file <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/Test_Files/libraries/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5e89d69e24b5c7b1dbc8b8b05537cd99"></a><!-- doxytag: member="WindSense::getGPSLongitude" ref="a5e89d69e24b5c7b1dbc8b8b05537cd99" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double WindSense::getGPSLongitude </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html#l00012">12</a> of file <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/Test_Files/libraries/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                  {

}
</pre></div>
</div>
</div>
<a class="anchor" id="a857d644e8150797a2ffc626e8e39e4a2"></a><!-- doxytag: member="WindSense::grabChar" ref="a857d644e8150797a2ffc626e8e39e4a2" args="(char input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::grabChar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a857d644e8150797a2ffc626e8e39e4a2"></a><!-- doxytag: member="WindSense::grabChar" ref="a857d644e8150797a2ffc626e8e39e4a2" args="(char input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::grabChar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a character to the partial sentence string. </p>
<p>As long as the string has already started being built, or if a new $ character has been found. There a number of cases in which this can fail and need to be handled.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Requires the external variables, partSentence and partCount </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Whether or not a complete NMEA sentence has been stored, 0 if it hasn't 1 if it has. </dd></dl>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00025">25</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
    <span class="keywordflow">if</span> (<a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a> &gt; 0 || input == <span class="charliteral">&#39;$&#39;</span>) {
        <a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>[<a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a>] = input;
        <a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a>++;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a> &gt; 3 &amp;&amp; <a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>[<a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a>-3] == <span class="charliteral">&#39;*&#39;</span>) {
        <a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>[<a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a>] = <span class="charliteral">&#39;\0&#39;</span>;
        <span class="keywordflow">return</span> 1;
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3ad16324837db2e9c4444103c03098a4"></a><!-- doxytag: member="WindSense::parseInternalNMEA" ref="a3ad16324837db2e9c4444103c03098a4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::parseInternalNMEA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TransitioninOut_2WindSense_2WindSense_8cpp_source.html#l00114">114</a> of file <a class="el" href="TransitioninOut_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
    <span class="keywordflow">return</span> <a class="code" href="classWindSense.html#a170d564ca219d3f8fda2364c1b4236ee" title="Returns an array of strings (char arrays) containing parsed values.">parseNMEA</a>(<a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classWindSense_a3ad16324837db2e9c4444103c03098a4_cgraph.png" border="0" usemap="#classWindSense_a3ad16324837db2e9c4444103c03098a4_cgraph" alt=""/></div>
<map name="classWindSense_a3ad16324837db2e9c4444103c03098a4_cgraph" id="classWindSense_a3ad16324837db2e9c4444103c03098a4_cgraph">
<area shape="rect" id="node3" href="classWindSense.html#a170d564ca219d3f8fda2364c1b4236ee" title="Returns an array of strings (char arrays) containing parsed values." alt="" coords="264,5,432,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bda1198330c913cadd51eb5bf9652a8"></a><!-- doxytag: member="WindSense::parseInternalNMEA" ref="a3bda1198330c913cadd51eb5bf9652a8" args="(char *input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::parseInternalNMEA </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Contains all of the parsing functions parseToStruct.cpp. </p>
<p>Due to the large number of functions used to parse char* instanced into proper types in the structs declared in the header file, this has been created.</p>
<p>It simply contains all of the functions to update the values in the structs.</p>
<p>Created on: 2011-11-14 Author: allgood38 </p>

<p>Definition at line <a class="el" href="ParseToStruct_8cpp_source.html#l00016">16</a> of file <a class="el" href="ParseToStruct_8cpp_source.html">ParseToStruct.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                            {

    <span class="keywordflow">if</span> (strcmp(input,<span class="stringliteral">&quot;GPGLL&quot;</span>) == 0) {
        <span class="comment">//  updateGPS_GPGLL</span>
        <a class="code" href="classWindSense.html#a1d7be6f9e3ed9964a1661df7bf44df9d" title="Update the GPS Data Struct by parsing.">updateGPS_GPGLL</a>();
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(input, <span class="stringliteral">&quot;WIMWV&quot;</span>) == 0) {
        <span class="comment">// Update Something else</span>
        <a class="code" href="classWindSense.html#aef8efeb056b1f79b42fed46c00ed991a" title="Update the Wind Data Struct by Parsing.">updateWIND_WIMWV</a>();
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(input, <span class="stringliteral">&quot;GPVTG&quot;</span>) == 0) {
        <a class="code" href="classWindSense.html#aa7fb078bc8798b983103688d83c69f1d" title="Update the Speet Data Struct by Parsing.">updateSPEED_GPVTG</a>();
    } <span class="keywordflow">else</span> {
        <span class="comment">// TODO Handle parse without valid</span>
        <span class="comment">// NMEA label</span>
    }

    <span class="keywordflow">return</span> 1;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classWindSense_a3bda1198330c913cadd51eb5bf9652a8_cgraph.png" border="0" usemap="#classWindSense_a3bda1198330c913cadd51eb5bf9652a8_cgraph" alt=""/></div>
<map name="classWindSense_a3bda1198330c913cadd51eb5bf9652a8_cgraph" id="classWindSense_a3bda1198330c913cadd51eb5bf9652a8_cgraph">
<area shape="rect" id="node3" href="classWindSense.html#a1d7be6f9e3ed9964a1661df7bf44df9d" title="Update the GPS Data Struct by parsing." alt="" coords="275,5,488,35"/><area shape="rect" id="node5" href="classWindSense.html#aef8efeb056b1f79b42fed46c00ed991a" title="Update the Wind Data Struct by Parsing." alt="" coords="267,59,496,88"/><area shape="rect" id="node7" href="classWindSense.html#aa7fb078bc8798b983103688d83c69f1d" title="Update the Speet Data Struct by Parsing." alt="" coords="264,112,499,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a170d564ca219d3f8fda2364c1b4236ee"></a><!-- doxytag: member="WindSense::parseNMEA" ref="a170d564ca219d3f8fda2364c1b4236ee" args="(char *input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::parseNMEA </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns an array of strings (char arrays) containing parsed values. </p>
<p>This function relies on three different strings. Each string is just an array of characters, so each string needs an index variables to keep track of our progress within the string.</p>
<p>The first string is simply the valid input sentence. The stringArray is to store all the values from the input string. The newValue string is a temporary buffer to hold on to a new value before it is stored in the string array.</p>
<p>The loop will place each input character into the new value string until a comma or asterisk is encountered. Then it stores it to the array of strings, resets the newValue and increments the index for stringArray.</p>
<p>If there is a situation where there are two commas, indicating a null value from the NMEA sentence, a null character will be stored in the string array, rather than just skipping over it. </p>

<p>Definition at line <a class="el" href="TransitioninOut_2WindSense_2WindSense_8cpp_source.html#l00083">83</a> of file <a class="el" href="TransitioninOut_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
    <span class="keywordtype">int</span> inputIdx = 1;

    <span class="keywordtype">char</span> newValue[15];
    <span class="keywordtype">int</span> newValueIdx = 0;

    <span class="comment">// For an explanation of the conditions of this loop, see the pdf</span>
    <span class="comment">// documentation.</span>
    <span class="keywordflow">while</span>(inputIdx &lt;= 1 || input[inputIdx - 1] != <span class="charliteral">&#39;*&#39;</span>) {

        <span class="keywordflow">if</span> (input[inputIdx] == <span class="charliteral">&#39;,&#39;</span> || input[inputIdx] == <span class="charliteral">&#39;*&#39;</span>) {
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; newValueIdx; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {
                <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[<a class="code" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be" title="index for the array of strings">stringArrayIdx</a>][<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = newValue[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];
            }

            <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[<a class="code" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be" title="index for the array of strings">stringArrayIdx</a>++][newValueIdx] = <span class="charliteral">&#39;\0&#39;</span>;
            newValueIdx=0;
            
        <span class="comment">// No comma, then store the value in the newValue array</span>
        } <span class="keywordflow">else</span> {
            newValue[newValueIdx++] = input[inputIdx];
            newValue[newValueIdx] = <span class="charliteral">&#39;\0&#39;</span>;
        }

        <span class="comment">// Move to the next character in the input string</span>
        inputIdx++;
    }

    <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abdf66a848c8a169d145443073727c2f6"></a><!-- doxytag: member="WindSense::resetInternalNMEA" ref="abdf66a848c8a169d145443073727c2f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WindSense::resetInternalNMEA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00132">132</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
    <a class="code" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be" title="index for the array of strings">stringArrayIdx</a> = 0;
    <a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a> = 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac8702e5aace56e4c8818088551d309dd"></a><!-- doxytag: member="WindSense::splitInternalNMEA" ref="ac8702e5aace56e4c8818088551d309dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::splitInternalNMEA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00128">128</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
    <span class="keywordflow">return</span> <a class="code" href="classWindSense.html#a1f5f29fd81c464d38de6703f48f1ae6f" title="Returns an array of strings (char arrays) containing parsed values.">splitNMEA</a>(<a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classWindSense_ac8702e5aace56e4c8818088551d309dd_cgraph.png" border="0" usemap="#classWindSense_ac8702e5aace56e4c8818088551d309dd_cgraph" alt=""/></div>
<map name="classWindSense_ac8702e5aace56e4c8818088551d309dd_cgraph" id="classWindSense_ac8702e5aace56e4c8818088551d309dd_cgraph">
<area shape="rect" id="node3" href="classWindSense.html#a1f5f29fd81c464d38de6703f48f1ae6f" title="Returns an array of strings (char arrays) containing parsed values." alt="" coords="256,5,416,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f5f29fd81c464d38de6703f48f1ae6f"></a><!-- doxytag: member="WindSense::splitNMEA" ref="a1f5f29fd81c464d38de6703f48f1ae6f" args="(char *input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::splitNMEA </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns an array of strings (char arrays) containing parsed values. </p>
<p>This function relies on three different strings. Each string is just an array of characters, so each string needs an index variables to keep track of our progress within the string.</p>
<p>The first string is simply the valid input sentence. The stringArray is to store all the values from the input string. The newValue string is a temporary buffer to hold on to a new value before it is stored in the string array.</p>
<p>The loop will place each input character into the new value string until a comma or asterisk is encountered. Then it stores it to the array of strings, resets the newValue and increments the index for stringArray.</p>
<p>If there is a situation where there are two commas, indicating a null value from the NMEA sentence, a null character will be stored in the string array, rather than just skipping over it. </p>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00097">97</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
    <span class="keywordtype">int</span> inputIdx = 1;

    <span class="keywordtype">char</span> newValue[15];
    <span class="keywordtype">int</span> newValueIdx = 0;

    <span class="comment">// For an explanation of the conditions of this loop, see the pdf</span>
    <span class="comment">// documentation.</span>
    <span class="keywordflow">while</span>(inputIdx &lt;= 1 || input[inputIdx - 1] != <span class="charliteral">&#39;*&#39;</span>) {

        <span class="keywordflow">if</span> (input[inputIdx] == <span class="charliteral">&#39;,&#39;</span> || input[inputIdx] == <span class="charliteral">&#39;*&#39;</span>) {
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; newValueIdx; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {
                <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[<a class="code" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be" title="index for the array of strings">stringArrayIdx</a>][<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = newValue[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];
            }

            <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[<a class="code" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be" title="index for the array of strings">stringArrayIdx</a>++][newValueIdx] = <span class="charliteral">&#39;\0&#39;</span>;
            newValueIdx=0;

            <span class="comment">// No comma, then store the value in the newValue array</span>
        } <span class="keywordflow">else</span> {
            newValue[newValueIdx++] = input[inputIdx];
            newValue[newValueIdx] = <span class="charliteral">&#39;\0&#39;</span>;
        }

        <span class="comment">// Move to the next character in the input string</span>
        inputIdx++;
    }

    <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1d7be6f9e3ed9964a1661df7bf44df9d"></a><!-- doxytag: member="WindSense::updateGPS_GPGLL" ref="a1d7be6f9e3ed9964a1661df7bf44df9d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::updateGPS_GPGLL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the GPS Data Struct by parsing. </p>
<p>Given that the format of the latitude and longitude are given in a form which exceeds the accuracy of our Arduino, we need to break it into minutes and degrees into separate integers.</p>
<p>[GPS_GPGLL] All data fields </p>

<p>Definition at line <a class="el" href="ParseToStruct_8cpp_source.html#l00043">43</a> of file <a class="el" href="ParseToStruct_8cpp_source.html">ParseToStruct.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                               {
    <span class="keywordtype">char</span>* pEnd;
    <span class="keywordtype">char</span> minutes[10];
    <span class="keywordtype">char</span> <a class="code" href="wiring_8h.html#afe93c2c14da376a1621194c15c1de496">degrees</a>[10];

    <span class="comment">/* The AIRMAR Actually reports invalid data, check it</span>
<span class="comment">     * here and abort with 0 if invalid, not doing this</span>
<span class="comment">     * will definitely crash the for loops</span>
<span class="comment">     */</span>
    <span class="keywordflow">if</span> (<a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[6][0] == <span class="charliteral">&#39;V&#39;</span>) {
        <span class="keywordflow">return</span> 0;
    }

    <span class="comment">// Since there will be parsing, an index will be used</span>
    <span class="keywordtype">int</span> idx = 0;

    <span class="comment">/* The following two loops parse the latitude, uses</span>
<span class="comment">     * the period as a separator between the minutes</span>
<span class="comment">     * and degrees</span>
<span class="comment">     */</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[1][idx] != <span class="charliteral">&#39;.&#39;</span>; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {
        minutes[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[1][idx++];
        <span class="comment">// Always keeping a null at the end</span>
        minutes[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] = <span class="charliteral">&#39;\0&#39;</span>;
    }
    <span class="comment">// Skip the period</span>
    idx++;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[1][idx] != <span class="charliteral">&#39;\0&#39;</span>; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {
        degrees[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[1][idx++];
        degrees[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] = <span class="charliteral">&#39;\0&#39;</span>;
    }

    <span class="comment">// Extract int from the isolated strings</span>
    <a class="code" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">GPS_GPGLL</a>.<a class="code" href="structWindSense_1_1GPGLL.html#af4d7e37d4bda974a3398f4f8cbdb9f3e">minuteLatitude</a> = (int)strtol(minutes,&amp;pEnd,10);
    <a class="code" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">GPS_GPGLL</a>.<a class="code" href="structWindSense_1_1GPGLL.html#a81a9535580a3b1dc8ed6fa7ad778f2cc">degreeLatitude</a> = (int)strtol(degrees,&amp;pEnd,10);

    idx=0;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[3][idx] != <span class="charliteral">&#39;.&#39;</span>; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {
        minutes[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[3][idx++];
        minutes[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] = <span class="charliteral">&#39;\0&#39;</span>;
    }
    idx++;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[3][idx] != <span class="charliteral">&#39;\0&#39;</span>; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {
        degrees[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[3][idx++];
        degrees[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>+1] = <span class="charliteral">&#39;\0&#39;</span>;
    }

    <a class="code" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">GPS_GPGLL</a>.<a class="code" href="structWindSense_1_1GPGLL.html#ad85d30e607801e88d4ead6140ce7ada2">minuteLongitude</a> = (int)strtol(minutes,&amp;pEnd,10);
    <a class="code" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">GPS_GPGLL</a>.<a class="code" href="structWindSense_1_1GPGLL.html#a25d47dcb1d62bbe4e10ae9311e9a1284">degreeLongitude</a> = (int)strtol(degrees,&amp;pEnd,10);
    
    <a class="code" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">GPS_GPGLL</a>.<a class="code" href="structWindSense_1_1GPGLL.html#acc23dd60b06b5e6b3708960127cda605">latitudeDirection</a> = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[2][0];
    <a class="code" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">GPS_GPGLL</a>.<a class="code" href="structWindSense_1_1GPGLL.html#a38931004dc2c0c6a1ef6e100a96358b2">longitudeDirection</a> = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[4][0];

    <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a10c495edf93c18e51bed677253558001"></a><!-- doxytag: member="WindSense::updateGPSData" ref="a10c495edf93c18e51bed677253558001" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::updateGPSData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the internal variables of this class with data. </p>
<p>Calls functions from the <a class="el" href="classTinyGPS.html">TinyGPS</a> instance in order to read data from the serial buffer and extract data from the NMEA strings. The simplest way to do this is to just keep on feeding the <a class="el" href="classTinyGPS.html">TinyGPS</a> until it runs out of data to parse, although.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>We need to find a way to get it to stop before it hits the end of the buffer, since the buffer may never empty depending on the frequency of the wind sensor</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int Zero if successful, greater than 0 otherwise </dd></dl>

<p>Definition at line <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html#l00016">16</a> of file <a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/Test_Files/libraries/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                             {
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa7fb078bc8798b983103688d83c69f1d"></a><!-- doxytag: member="WindSense::updateSPEED_GPVTG" ref="aa7fb078bc8798b983103688d83c69f1d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::updateSPEED_GPVTG </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the Speet Data Struct by Parsing. </p>
<p>Converts strings into the correct types.</p>
<p>[SPEED_GPVTG] All Data Fields </p>

<p>Definition at line <a class="el" href="ParseToStruct_8cpp_source.html#l00126">126</a> of file <a class="el" href="ParseToStruct_8cpp_source.html">ParseToStruct.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
    <span class="comment">// Check if the AIRMAR says the data is valid</span>
    <span class="keywordflow">if</span> (<a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[9][0] == <span class="charliteral">&#39;N&#39;</span>) {
        <span class="keywordflow">return</span> 0;
    }
    
    <a class="code" href="classWindSense.html#a545ca2abb5640fbe6dd5647b49211b78">SPEED_GPVTG</a>.<a class="code" href="structWindSense_1_1GPVTG.html#a03d56926a82a1ff48f0796d7b03c95b1">courseoverGround</a>      = strtod(<a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[1], <span class="charliteral">&#39;\0&#39;</span>);
    <a class="code" href="classWindSense.html#a545ca2abb5640fbe6dd5647b49211b78">SPEED_GPVTG</a>.<a class="code" href="structWindSense_1_1GPVTG.html#a06d286b75386d8d7ab0e2343ece7060b">unitCourseMeasurement</a> = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[2][0];
    <a class="code" href="classWindSense.html#a545ca2abb5640fbe6dd5647b49211b78">SPEED_GPVTG</a>.<a class="code" href="structWindSense_1_1GPVTG.html#a4e3a8d4405b839b4cec726e1d6083bb8">speedoverGround</a>       = strtod(<a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[5], <span class="charliteral">&#39;\0&#39;</span>);
    <a class="code" href="classWindSense.html#a545ca2abb5640fbe6dd5647b49211b78">SPEED_GPVTG</a>.<a class="code" href="structWindSense_1_1GPVTG.html#af0e6b88f4ffda74f8e3df25873ddb0f2">speedUnits</a>            = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[6][0];
    
    <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aef8efeb056b1f79b42fed46c00ed991a"></a><!-- doxytag: member="WindSense::updateWIND_WIMWV" ref="aef8efeb056b1f79b42fed46c00ed991a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::updateWIND_WIMWV </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the Wind Data Struct by Parsing. </p>
<p>Simply converts the strings into the correct types.</p>
<p>[WIND_WIMWV] All Data Fields </p>

<p>Definition at line <a class="el" href="ParseToStruct_8cpp_source.html#l00105">105</a> of file <a class="el" href="ParseToStruct_8cpp_source.html">ParseToStruct.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                {
    <span class="comment">// Check if the AIRMAR says the data is valid</span>
    <span class="keywordflow">if</span> (<a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[5][0] == <span class="charliteral">&#39;V&#39;</span>) {
        <span class="keywordflow">return</span> 0;
    }

    <a class="code" href="classWindSense.html#aa4e41042ca6323048f5f00d30d2f15d3">WIND_WIMWV</a>.<a class="code" href="structWindSense_1_1WIMWV.html#a24bff21695b80eb0f00580f6a58fd972">windAngle</a>      = strtod(<a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[1],<span class="charliteral">&#39;\0&#39;</span>);
    <a class="code" href="classWindSense.html#aa4e41042ca6323048f5f00d30d2f15d3">WIND_WIMWV</a>.<a class="code" href="structWindSense_1_1WIMWV.html#aab03ac8cb967677eba6a98ac5b8e04e2">reference</a>      = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[2][0];
    <a class="code" href="classWindSense.html#aa4e41042ca6323048f5f00d30d2f15d3">WIND_WIMWV</a>.<a class="code" href="structWindSense_1_1WIMWV.html#a8a92124fd0443176c80be219e3c122ad">windSpeed</a>      = strtod(<a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[3],<span class="charliteral">&#39;\0&#39;</span>);
    <a class="code" href="classWindSense.html#aa4e41042ca6323048f5f00d30d2f15d3">WIND_WIMWV</a>.<a class="code" href="structWindSense_1_1WIMWV.html#a95dd9d1e5796d983056b9d33fe78baf2">windSpeedUnits</a> = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[4][0];
    <a class="code" href="classWindSense.html#aa4e41042ca6323048f5f00d30d2f15d3">WIND_WIMWV</a>.<a class="code" href="structWindSense_1_1WIMWV.html#a70cdbb1abfa0cb7c4aad6cf973b87306">valid</a>          = <a class="code" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d" title="Array of strings for splitNMEA.">stringArray</a>[5][0];

    <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae588f066429fc69c55347b460ca8de77"></a><!-- doxytag: member="WindSense::validateInternalNMEA" ref="ae588f066429fc69c55347b460ca8de77" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::validateInternalNMEA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00074">74</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
    <span class="keywordflow">return</span> <a class="code" href="classWindSense.html#abc6881989101175595efce5f59587ac9" title="Returns true if the checksum matches at the end.">validateNMEA</a>(<a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classWindSense_ae588f066429fc69c55347b460ca8de77_cgraph.png" border="0" usemap="#classWindSense_ae588f066429fc69c55347b460ca8de77_cgraph" alt=""/></div>
<map name="classWindSense_ae588f066429fc69c55347b460ca8de77_cgraph" id="classWindSense_ae588f066429fc69c55347b460ca8de77_cgraph">
<area shape="rect" id="node3" href="classWindSense.html#abc6881989101175595efce5f59587ac9" title="Returns true if the checksum matches at the end." alt="" coords="277,5,459,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abc6881989101175595efce5f59587ac9"></a><!-- doxytag: member="WindSense::validateNMEA" ref="abc6881989101175595efce5f59587ac9" args="(char *input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::validateNMEA </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abc6881989101175595efce5f59587ac9"></a><!-- doxytag: member="WindSense::validateNMEA" ref="abc6881989101175595efce5f59587ac9" args="(char *input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::validateNMEA </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the checksum matches at the end. </p>
<p>Note this function assumes that $ will always be the first character, and that the entire NMEA sentence is untouched and isolated. It also requires that partcount not be reset, since it uses it to determine the end of the sentence</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Requires the external variables, partSentence and partCount </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The complete and isolated NMEA sentence as a  array </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The checksum is valid, 1 is True, 0 is False.</dd></dl>
<p>Note this function assumes that $ will always be the first character, and that the entire NMEA sentence is untouched and isolated. It also requires that partcount not be reset, since it uses it to determine the end of the sentence</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Requires the external variables, partSentence and partCount </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The complete and isolated NMEA sentence as a character array </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The checksum is valid, 1 is True, 0 is False. </dd></dl>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html#l00050">50</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
    <span class="keywordtype">int</span> calculatedChecksum = 0;
    <span class="keywordtype">char</span> rawGivenChecksum[2];
    <span class="keywordtype">int</span> givenChecksum = 0;

    <span class="comment">// XOR every element between [1] and *</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;*&#39;</span>; <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {
        calculatedChecksum ^= <a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];
    }

    <span class="comment">// Convert the last two characters into a hexadecimal number</span>
    rawGivenChecksum[0] = <a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>[<a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a>-2];
    rawGivenChecksum[1] = <a class="code" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414" title="buffer for incoming NMEA for grabChar function">partSentence</a>[<a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a>-1];

    <span class="keywordtype">char</span>* parserChar;
    givenChecksum = (int)strtol(rawGivenChecksum, &amp;parserChar, 16);

    <span class="comment">// Another possible method</span>
    <span class="comment">//sscanf(rawGivenChecksum, &quot;%x&quot;, &amp;givenChecksum);</span>

    <a class="code" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be" title="index for partSentence">partCount</a> = 0;
    <span class="keywordflow">return</span> (givenChecksum == calculatedChecksum);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1463602e80d3d8a7395ab31773faefc"></a><!-- doxytag: member="WindSense::validateSentence" ref="aa1463602e80d3d8a7395ab31773faefc" args="(char *NMEA)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WindSense::validateSentence </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>NMEA</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Validates the checksum on the sentence. </p>
<p>Performs the checksum using a case-switch and a loop.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">NMEA</td><td>[in] The complete NMEA <a class="el" href="classString.html">String</a>, no parsing required yet though it does need to be a single sentence</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful, greater than 0 if there are errors or eny kind of complication which will need to be handled. </dd></dl>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a24f70cd5284c30228676f62c5107d5dd"></a><!-- doxytag: member="WindSense::GPS_GPGLL" ref="a24f70cd5284c30228676f62c5107d5dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structWindSense_1_1GPGLL.html">GPGLL</a> <a class="el" href="classWindSense.html#a24f70cd5284c30228676f62c5107d5dd">WindSense::GPS_GPGLL</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00072">72</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<a class="anchor" id="a061e7abee51944d5a264dda2a889c3be"></a><!-- doxytag: member="WindSense::partCount" ref="a061e7abee51944d5a264dda2a889c3be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classWindSense.html#a061e7abee51944d5a264dda2a889c3be">WindSense::partCount</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>index for partSentence </p>
<p>Used in the grabChar function. </p>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00031">31</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<a class="anchor" id="a55e22939b33a6cee7d07144e1cc68414"></a><!-- doxytag: member="WindSense::partSentence" ref="a55e22939b33a6cee7d07144e1cc68414" args="[100]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classWindSense.html#a55e22939b33a6cee7d07144e1cc68414">WindSense::partSentence</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>buffer for incoming NMEA for grabChar function </p>
<p>Used in the grabChar function. </p>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00032">32</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<a class="anchor" id="acd874ebeaa66979b31c8fc8cb6b363f8"></a><!-- doxytag: member="WindSense::senSerial" ref="acd874ebeaa66979b31c8fc8cb6b363f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHardwareSerial.html">HardwareSerial</a>* <a class="el" href="classWindSense.html#acd874ebeaa66979b31c8fc8cb6b363f8">WindSense::senSerial</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00078">78</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<a class="anchor" id="a545ca2abb5640fbe6dd5647b49211b78"></a><!-- doxytag: member="WindSense::SPEED_GPVTG" ref="a545ca2abb5640fbe6dd5647b49211b78" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structWindSense_1_1GPVTG.html">GPVTG</a> <a class="el" href="classWindSense.html#a545ca2abb5640fbe6dd5647b49211b78">WindSense::SPEED_GPVTG</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00074">74</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<a class="anchor" id="afd05c14e6eae93432dbc0bc66737563d"></a><!-- doxytag: member="WindSense::stringArray" ref="afd05c14e6eae93432dbc0bc66737563d" args="[40][15]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classWindSense.html#afd05c14e6eae93432dbc0bc66737563d">WindSense::stringArray</a>[40][15]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array of strings for splitNMEA. </p>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00033">33</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad6ffa36b5ca5732a6ac9b0247dd193be"></a><!-- doxytag: member="WindSense::stringArrayIdx" ref="ad6ffa36b5ca5732a6ac9b0247dd193be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classWindSense.html#ad6ffa36b5ca5732a6ac9b0247dd193be">WindSense::stringArrayIdx</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>index for the array of strings </p>

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00034">34</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa4e41042ca6323048f5f00d30d2f15d3"></a><!-- doxytag: member="WindSense::WIND_WIMWV" ref="aa4e41042ca6323048f5f00d30d2f15d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structWindSense_1_1WIMWV.html">WIMWV</a> <a class="el" href="classWindSense.html#aa4e41042ca6323048f5f00d30d2f15d3">WindSense::WIND_WIMWV</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html#l00073">73</a> of file <a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SailcodeAPI_2WindSense_2WindSense_8h_source.html">SailcodeAPI/WindSense/WindSense.h</a></li>
<li><a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8h_source.html">TransitioninOut/Test_Files/libraries/WindSense/WindSense.h</a></li>
<li><a class="el" href="TransitioninOut_2WindSense_2WindSense_8h_source.html">TransitioninOut/WindSense/WindSense.h</a></li>
<li><a class="el" href="ParseToStruct_8cpp_source.html">ParseToStruct.cpp</a></li>
<li><a class="el" href="SailcodeAPI_2WindSense_2WindSense_8cpp_source.html">SailcodeAPI/WindSense/WindSense.cpp</a></li>
<li><a class="el" href="TransitioninOut_2Test__Files_2libraries_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/Test_Files/libraries/WindSense/WindSense.cpp</a></li>
<li><a class="el" href="TransitioninOut_2WindSense_2WindSense_8cpp_source.html">TransitioninOut/WindSense/WindSense.cpp</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 15 2011 12:18:47 for NEWMAST by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
