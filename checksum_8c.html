<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NEWMAST: checksum.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">NEWMAST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">checksum.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for checksum.c:</div>
<div class="dyncontent">
<div class="center"><img src="checksum_8c__incl.png" border="0" usemap="#checksum_8c" alt=""/></div>
<map name="checksum_8c" id="checksum_8c">
</map>
</div>
</div>
<p><a href="checksum_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checksum_8c.html#af8a8fc9f5950d44b4c5d1bdf796d692b">convertASCIItoHex</a> (char ch)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts ASCII Characters to Hex Values, but it sort of cheats.  <a href="#af8a8fc9f5950d44b4c5d1bdf796d692b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checksum_8c.html#ac0f2228420376f4db7e1274f2b41667c">main</a> (int argc, const char *argv[])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checksum_8c.html#a9a792c4f33863f57f6bb9750f265e1a8">parseNMEA</a> (char *<a class="el" href="parsecheck_8c.html#a338cadbcb5faa14332a8b961bd616cc7">nm</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The goal is to parse the insides of the sentence and the checksum so that they may be fed into the checksum validation function.  <a href="#a9a792c4f33863f57f6bb9750f265e1a8"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="checksum_8c.html#a338cadbcb5faa14332a8b961bd616cc7">nm</a> [] = {&quot;GPGSV,2,1,08,01,40,083,46,02,17,308,41,12,07,344,39,14,22,228,45&quot;}</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="af8a8fc9f5950d44b4c5d1bdf796d692b"></a><!-- doxytag: member="checksum.c::convertASCIItoHex" ref="af8a8fc9f5950d44b4c5d1bdf796d692b" args="(char ch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char convertASCIItoHex </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts ASCII Characters to Hex Values, but it sort of cheats. </p>
<p>Just uses the fact that an ascii number can be subtracted and added to in order to get the hex value, look at the return equations.</p>
<p>Given the way that C deals with characters, it should be possible to simply feed the for loop actual characters, there is no need to have a function to convert them to hex, when that is done automagically. </p>

<p>Definition at line <a class="el" href="checksum_8c_source.html#l00033">33</a> of file <a class="el" href="checksum_8c_source.html">checksum.c</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
    <span class="comment">// if it&#39;s an ASCII number</span>
    <span class="keywordflow">if</span>(ch &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;9&#39;</span>) {
        <span class="keywordflow">return</span> (ch - <span class="charliteral">&#39;0&#39;</span>) + 48;           <span class="comment">// subtract ASCII 0 value to get the hex value</span>
                                     <span class="comment">// if its a letter (assumed upper case)</span>
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> ((ch - <span class="charliteral">&#39;A&#39;</span>) + 65);    <span class="comment">// subtract ASCII A value then add 10 to get the hex value</span>
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac0f2228420376f4db7e1274f2b41667c"></a><!-- doxytag: member="checksum.c::main" ref="ac0f2228420376f4db7e1274f2b41667c" args="(int argc, const char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="checksum_8c_source.html#l00008">8</a> of file <a class="el" href="checksum_8c_source.html">checksum.c</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
    printf(<span class="stringliteral">&quot;%x\n&quot;</span>, <a class="code" href="checksum_8c.html#af8a8fc9f5950d44b4c5d1bdf796d692b" title="Converts ASCII Characters to Hex Values, but it sort of cheats.">convertASCIItoHex</a>(<span class="charliteral">&#39;0&#39;</span>));
    <span class="keywordtype">int</span> checksum = 0;
    <span class="keywordtype">int</span> <a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;

    printf(<span class="stringliteral">&quot;Beginning the checksum function...\n&quot;</span>);
    <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(<a class="code" href="functionTest_8cpp.html#a338cadbcb5faa14332a8b961bd616cc7">nm</a>); i++) {
        checksum ^= <a class="code" href="functionTest_8cpp.html#a338cadbcb5faa14332a8b961bd616cc7">nm</a>[<a class="code" href="parsecheck_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];
    }

    printf(<span class="stringliteral">&quot;The value calculated is, %x\n&quot;</span>, checksum);

    printf(<span class="stringliteral">&quot;The value of the basic character &#39;A&#39; is ...%x\n&quot;</span>, <span class="charliteral">&#39;A&#39;</span>);

    <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="checksum_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph.png" border="0" usemap="#checksum_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" alt=""/></div>
<map name="checksum_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" id="checksum_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph">
<area shape="rect" id="node3" href="checksum_8c.html#af8a8fc9f5950d44b4c5d1bdf796d692b" title="Converts ASCII Characters to Hex Values, but it sort of cheats." alt="" coords="104,5,240,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a792c4f33863f57f6bb9750f265e1a8"></a><!-- doxytag: member="checksum.c::parseNMEA" ref="a9a792c4f33863f57f6bb9750f265e1a8" args="(char *nm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parseNMEA </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The goal is to parse the insides of the sentence and the checksum so that they may be fed into the checksum validation function. </p>
<p>Returns an array of strings (char arrays) containing parsed values.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nm</td><td>is the complete NMEA sentence</td></tr>
  </table>
  </dd>
</dl>
<p>This function relies on three different strings. Each string is just an array of characters, so each string needs an index variables to keep track of our progress within the string.</p>
<p>The first string is simply the valid input sentence. The stringArray is to store all the values from the input string. The newValue string is a temporary buffer to hold on to a new value before it is stored in the string array.</p>
<p>The loop will place each input character into the new value string until a comma or asterisk is encountered. Then it stores it to the array of strings, resets the newValue and increments the index for stringArray.</p>
<p>If there is a situation where there are two commas, indicating a null value from the NMEA sentence, a null character will be stored in the string array, rather than just skipping over it. </p>

<p>Definition at line <a class="el" href="checksum_8c_source.html#l00048">48</a> of file <a class="el" href="checksum_8c_source.html">checksum.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a338cadbcb5faa14332a8b961bd616cc7"></a><!-- doxytag: member="checksum.c::nm" ref="a338cadbcb5faa14332a8b961bd616cc7" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="parsecheck_8c.html#a338cadbcb5faa14332a8b961bd616cc7">nm</a>[] = {&quot;GPGSV,2,1,08,01,40,083,46,02,17,308,41,12,07,344,39,14,22,228,45&quot;}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="checksum_8c_source.html#l00006">6</a> of file <a class="el" href="checksum_8c_source.html">checksum.c</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 15 2011 12:18:46 for NEWMAST by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
